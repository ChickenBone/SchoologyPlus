<html>

<body style="font-family: Arial, sans-serif;">
    <script>
        // https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser
        var browser = function () {
            // Return cached result if avalible, else get result then cache it.
            if (browser.prototype._cachedResult)
                return browser.prototype._cachedResult;

            // Opera 8.0+
            var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;

            // Firefox 1.0+
            var isFirefox = typeof InstallTrigger !== 'undefined';

            // Safari 3.0+ "[object HTMLElementConstructor]"
            var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || safari.pushNotification);

            // Internet Explorer 6-11
            var isIE = /*@cc_on!@*/false || !!document.documentMode;

            // Edge 20+
            var isEdge = !isIE && !!window.StyleMedia;

            // Chrome 1+
            var isChrome = !!window.chrome;

            // Blink engine detection
            var isBlink = (isChrome || isOpera) && !!window.CSS;

            return browser.prototype._cachedResult =
                isOpera ? 'Opera' :
                    isFirefox ? 'Firefox' :
                        isSafari ? 'Safari' :
                            isChrome ? 'Chrome' :
                                isIE ? 'IE' :
                                    isEdge ? 'Edge' :
                                        isBlink ? 'Blink' :
                                            "Unknown";
        };

        let b = browser();
        if (b == "Firefox" || confirm(`Are you sure you want to download this Firefox extension? You seem to be using ${b}.`)) {
            fetch("https://api.github.com/repos/aopell/SchoologyPlus/releases/latest")
                .then(x => x.json())
                .then(x => {
                    location.href = x.assets[0].browser_download_url;
                });
        } else {
            if (b == "Chrome" && confirm("Would you like to download Schoology Plus from the Chrome Web Store?")) {
                location.href = "https://chrome.google.com/webstore/detail/schoology-plus/fbfppoaockpecjpbdmldojdehdpepfef";
            } else {
                window.close();
            }
        }
    </script>
    <p><a href="https://github.com/aopell/SchoologyPlus"><img src="https://imgur.com/QdAPxXN.png" alt="Schoology Plus" /></a></p>

    <h3 id="schoologyplusisawebextensionthatenhancesyourlausdschoologyexperiencewithnumerousinterfaceimprovements">Schoology Plus is a web extension that enhances your LAUSD Schoology experience with numerous interface improvements.</h3>

    <p><a href="https://chrome.google.com/webstore/detail/schoology-plus/fbfppoaockpecjpbdmldojdehdpepfef"><img src="https://img.shields.io/chrome-web-store/v/fbfppoaockpecjpbdmldojdehdpepfef.svg?label=chrome%20download" alt="Chrome Download" /></a>
    <a href="https://chrome.google.com/webstore/detail/schoology-plus/fbfppoaockpecjpbdmldojdehdpepfef"><img src="https://img.shields.io/chrome-web-store/users/fbfppoaockpecjpbdmldojdehdpepfef.svg" alt="Chrome Web Store Users" /></a>
    <a href="https://chrome.google.com/webstore/detail/schoology-plus/fbfppoaockpecjpbdmldojdehdpepfef"><img src="https://img.shields.io/chrome-web-store/rating/fbfppoaockpecjpbdmldojdehdpepfef.svg" alt="Chrome Web Store Rating" /></a>
    <a href="http://aopell.me/SchoologyPlus/firefox-download.html"><img src="https://img.shields.io/badge/dynamic/json.svg?label=firefox%20download&amp;url=https%3A%2F%2Faopell.me%2FSchoologyPlus%2Fupdate.json&amp;query=%24.addons%5B%27schoology.plus%40aopell.me%27%5D.updates%5B0%5D.version&amp;colorB=orange" alt="Firefox Download" /></a>
    <a href="https://aopell.me/SchoologyPlus/changelog"><img src="https://img.shields.io/github/release/aopell/SchoologyPlus.svg?label=changelog&amp;colorB=lightgrey" alt="Changelog" /></a></p>

    <p><a href="https://chrome.google.com/webstore/detail/schoology-plus/fbfppoaockpecjpbdmldojdehdpepfef"><img src="https://developer.chrome.com/webstore/images/ChromeWebStore_Badge_v2_206x58.png" alt="Download for Chrome" /></a>
    <a href="http://aopell.me/SchoologyPlus/firefox-download.html"><img src="https://imgur.com/hVupcaT.png" height="58" alt="Download for Firefox"></a></p>
    
</body>

</html>
